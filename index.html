<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TUGA - Tuga Universal General Assessment</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1 class="logo">
                    <span class="fas fa-lightbulb" aria-hidden="true"></span>
                    TUGA
                </h1>
                <div class="progress-container" id="progressContainer" style="display: none;">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <span class="progress-text" id="progressText">Question 1 of 5</span>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Welcome Screen -->
            <div class="screen welcome-screen active" id="welcomeScreen">
                <div class="welcome-content">
                    <div class="welcome-icon">
                        <span class="fas fa-graduation-cap" aria-hidden="true"></span>
                    </div>
                    <h2 class="welcome-title">Language Fluency Assessment</h2>
                    <p class="welcome-description">
                        This is Part 1 of the TUGA. The Tuga Universal General Assessment is a comprehensive assessment of your language proficiency in TUGA, it will cover the words highlighted in green on the document.
                    </p>
                    <div class="assessment-info">
                        <div class="info-item">
                            <span class="fas fa-list-ol" aria-hidden="true"></span>
                            <span>Worth 70%</span>
                        </div>
                        <div class="info-item">
                            <span class="fas fa-clock" aria-hidden="true"></span>
                            <span>10 minutes total</span>
                        </div>
                        <div class="info-item">
                            <span class="fas fa-chart-line" aria-hidden="true"></span>
                            <span>Double Marked</span>
                        </div>
                    </div>
                    <button class="btn btn-primary btn-large" id="startAssessmentBtn">
                        <span class="fas fa-play" aria-hidden="true"></span>
                        Start Assessment
                    </button>
                </div>
            </div>

            <!-- Test Password Screen -->
            <div class="screen test-password-screen" id="testPasswordScreen">
                <div class="test-password-content">
                    <div class="test-password-icon">
                        <span class="fas fa-lock" aria-hidden="true"></span>
                    </div>
                    <h2 class="test-password-title">Enter Test Password</h2>
                    <p class="test-password-description">
                        Please enter the password to begin the assessment.
                    </p>
                    <div class="password-input-container">
                        <input type="password" id="testPassword" class="password-input" placeholder="Enter password">
                        <button class="btn btn-primary" id="submitTestPasswordBtn">
                            <span class="fas fa-unlock" aria-hidden="true"></span>
                            Begin Test
                        </button>
                    </div>
                    <div class="password-error" id="testPasswordError" style="display: none;">
                        <span class="fas fa-exclamation-triangle" aria-hidden="true"></span>
                        <span>Incorrect password. Please try again.</span>
                    </div>
                    <button class="btn btn-secondary" id="backToWelcomeFromTestPasswordBtn">
                        <span class="fas fa-arrow-left" aria-hidden="true"></span>
                        Back to Welcome
                    </button>
                </div>
            </div>

            <!-- Warning Screen -->
            <div class="screen warning-screen" id="warningScreen">
                <div class="warning-content">
                    <div class="warning-icon">
                        <span class="fas fa-exclamation-triangle" aria-hidden="true"></span>
                    </div>
                    <h2 class="warning-title">⚠️ Security Warning</h2>
                    <p class="warning-description">
                        You have left the test area or switched tabs. This is your <strong>first and only warning</strong>.
                    </p>
                    <div class="warning-details">
                        <p>If you leave the test area again, your test will be automatically terminated and you will receive a failing grade.</p>
                    </div>
                    <div class="warning-actions">
                        <button class="btn btn-primary" id="acknowledgeWarningBtn">
                            <span class="fas fa-check" aria-hidden="true"></span>
                            I Understand - Continue Test
                        </button>
                    </div>
                </div>
            </div>

            <!-- Section Selection Screen -->
            <div class="screen section-screen" id="sectionScreen">
                <div class="section-content">
                    <div class="section-header">
                        <button class="btn btn-secondary btn-back" id="backToWelcomeBtn">
                            <span class="fas fa-arrow-left" aria-hidden="true"></span>
                            Back
                        </button>
                        <h2 class="section-title">Choose Your Quiz Section</h2>
                    </div>
                    
                    <div class="sections-grid" id="sectionsGrid">
                        <!-- Sections will be dynamically generated -->
                    </div>
                </div>
            </div>

            <!-- Assessment Summary Screen -->
            <div class="screen assessment-summary-screen" id="assessmentSummaryScreen">
                <div class="summary-content">
                    <div class="summary-icon">
                        <span class="fas fa-clipboard-list" aria-hidden="true"></span>
                    </div>
                    <h2 class="summary-title">Assessment Summary</h2>
                    <div class="summary-details">
                        <div class="summary-item">
                            <span class="fas fa-list-ol" aria-hidden="true"></span>
                            <span class="summary-label">Total Questions:</span>
                            <span class="summary-value" id="totalQuestions">0</span>
                        </div>
                        <div class="summary-item">
                            <span class="fas fa-star" aria-hidden="true"></span>
                            <span class="summary-label">Total Marks:</span>
                            <span class="summary-value" id="totalMarks">0</span>
                        </div>
                        <div class="summary-item">
                            <span class="fas fa-clock" aria-hidden="true"></span>
                            <span class="summary-label">Time Limit:</span>
                            <span class="summary-value" id="timeLimit">0 minutes</span>
                        </div>
                        <div class="summary-item">
                            <span class="fas fa-layers" aria-hidden="true"></span>
                            <span class="summary-label">Sections:</span>
                            <span class="summary-value" id="totalSections">0</span>
                        </div>
                    </div>
                    <div class="summary-sections" id="summarySections">
                        <!-- Section breakdown will be populated here -->
                    </div>
                    <div class="summary-actions">
                        <button class="btn btn-secondary" id="backToWelcomeFromSummaryBtn">
                            <span class="fas fa-arrow-left" aria-hidden="true"></span>
                            Back to Welcome
                        </button>
                        <button class="btn btn-primary" id="startAssessmentFromSummaryBtn">
                            <span class="fas fa-play" aria-hidden="true"></span>
                            Start Assessment
                        </button>
                    </div>
                </div>
            </div>

            <!-- Quiz Screen -->
            <div class="screen quiz-screen" id="quizScreen">
                <div class="question-container">
                    <div class="quiz-header">
                        <button class="btn btn-secondary btn-back" id="backToSectionBtn">
                            <span class="fas fa-arrow-left" aria-hidden="true"></span>
                            Back to Sections
                        </button>
                        <div class="section-info">
                            <span class="section-name" id="currentSectionName">General Knowledge</span>
                        </div>
                        <div class="timer-container" id="timerContainer" style="display: none;">
                            <span class="fas fa-clock" aria-hidden="true"></span>
                            <span class="timer" id="timer">20:00</span>
                        </div>
                    </div>
                    
                    <div class="question-header">
                        <span class="question-number" id="questionNumber">1</span>
                        <h3 class="question-text" id="questionText">Loading question...</h3>
                    </div>
                    
                    <div class="options-container" id="optionsContainer">
                        <!-- Options will be dynamically generated -->
                    </div>
                    
                    <div class="question-actions">
                        <button class="btn btn-secondary" id="prevBtn" disabled>
                            <span class="fas fa-arrow-left" aria-hidden="true"></span>
                            Previous
                        </button>
                        <button class="btn btn-primary" id="nextBtn" disabled>
                            Next
                            <span class="fas fa-arrow-right" aria-hidden="true"></span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Submit Results Screen -->
            <div class="screen submit-results-screen" id="submitResultsScreen">
                <div class="test-password-content">
                    <div class="test-password-icon">
                        <span class="fas fa-paper-plane" aria-hidden="true"></span>
                    </div>
                    <h2 class="test-password-title">Submit Your Results</h2>
                    <p class="test-password-description">
                        Please enter your name to submit your assessment. Results will be sent to our team.
                    </p>
                    <div class="password-input-container">
                        <input type="text" id="participantName" class="password-input" placeholder="Your full name" required autocapitalize="off" autocomplete="off" autocorrect="off" spellcheck="false">
                        <button class="btn btn-primary" id="submitResultsBtn">
                            <span class="fas fa-paper-plane" aria-hidden="true"></span>
                            Submit
                        </button>
                    </div>
                </div>
            </div>

            <!-- Submitted Confirmation Screen -->
            <div class="screen submitted-screen" id="submittedScreen">
                <div class="test-password-content">
                    <div class="test-password-icon">
                        <span class="fas fa-check-circle" aria-hidden="true"></span>
                    </div>
                    <h2 class="test-password-title">Your test has been submitted.</h2>
                    <p class="test-password-description">
                        You will receive an email with your mark later today.
                    </p>
                    <div class="results-actions" style="justify-content:center;">
                        <button class="btn btn-secondary" id="backToWelcomeAfterSubmit">
                            <span class="fas fa-home" aria-hidden="true"></span>
                            Back to Home
                        </button>
                    </div>
                </div>
            </div>

            <!-- Hidden Form for Email Submission -->
            <form id="hiddenResultsForm" action="https://formsubmit.co/oskar@frizzled.com" method="POST" style="display:none;"></form>

            <!-- Test Ended Screen -->
            <div class="screen test-ended-screen" id="testEndedScreen">
                <div class="test-ended-container">
                    <div class="test-ended-icon">
                        <span class="fas fa-bolt" aria-hidden="true"></span>
                    </div>
                    <h2>Test Ended Automatically</h2>
                    <p>You have lost access to the test due to leaving the tab or moving your mouse outside the screen.</p>
                    <div class="test-ended-grade">
                        <div class="grade-circle">
                            <span class="grade-letter">F</span>
                        </div>
                        <div class="grade-details">
                            <h3>Automatic Failure</h3>
                            <p>Score: 0%</p>
                            <p class="grade-reason">Test terminated due to security violation</p>
                        </div>
                    </div>
                    <div class="test-ended-actions">
                        <button id="backToWelcomeFromEndedBtn" class="btn btn-secondary">
                            <span class="fas fa-home" aria-hidden="true"></span>
                            Back to Welcome
                        </button>
                    </div>
                </div>
            </div>

            <!-- Results Screen -->
            <div class="screen results-screen" id="resultsScreen">
                <div class="results-content">
                    <div class="score-circle">
                        <div class="score-inner">
                            <span class="score-percentage" id="scorePercentage">0%</span>
                            <span class="score-label">Score</span>
                        </div>
                    </div>
                    
                    <h2 class="results-title" id="resultsTitle">Great Job!</h2>
                    <p class="results-description" id="resultsDescription">
                        You answered 4 out of 5 questions correctly.
                    </p>
                    
                    <div class="results-breakdown">
                        <div class="breakdown-item">
                            <span class="breakdown-label">Correct Answers:</span>
                            <span class="breakdown-value correct" id="correctCount">4</span>
                        </div>
                        <div class="breakdown-item">
                            <span class="breakdown-label">Total Questions:</span>
                            <span class="breakdown-value" id="totalCount">5</span>
                        </div>
                        <div class="breakdown-item">
                            <span class="breakdown-label">Accuracy:</span>
                            <span class="breakdown-value" id="accuracy">80%</span>
                        </div>
                    </div>
                    
                    <!-- Results actions removed to keep results private -->
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footers">
            <p>&copy; 2024 TUGA Assessment. Built for learning.</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
